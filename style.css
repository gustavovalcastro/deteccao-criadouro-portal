/* ===========================
   Variáveis e estilo base
   =========================== */
:root{
  --bg:#f6f7fb; --card:#fff; --border:#e5e7eb; --text:#111827;
  --muted:#6b7280; --primary:#2563eb; --primary-600:#1d4ed8;
  --blue:#3b82f6; --orange:#f97316; --green:#16a34a; --red:#ef4444;
  --radius:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:15px/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial}

a{color:inherit;text-decoration:none}
button{cursor:pointer}

/* ===========================
   Layout geral (sidebar + topo)
   =========================== */
.layout{min-height:100vh;display:flex}
.aside{width:260px;background:var(--card);border-right:1px solid var(--border);padding:20px;display:none}
.aside .title{font:600 12px/1 system-ui;letter-spacing:.06em;text-transform:uppercase;color:var(--muted);margin-bottom:8px}
.aside a{display:block;padding:10px 12px;border-radius:12px;color:#374151}
.aside a.active,.aside a:hover{background:#eef2ff;color:#1e3a8a}

.header{height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 16px;background:var(--card);border-bottom:1px solid var(--border)}
.header .brand{font:600 18px system-ui}
.header .user{font-size:12px;color:var(--muted);text-align:right}
.header .logout{background:var(--primary);color:#fff;border:0;padding:8px 14px;border-radius:10px}
.header .logout:hover{background:var(--primary-600)}

.main{flex:1;display:flex;flex-direction:column}
.content{padding:24px}

/* Grid simples para cards da Home */
.grid{display:grid;gap:16px}
.grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
@media (min-width:900px){ .aside{display:block} }

/* ===========================
   Componentes
   =========================== */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 1px 0 rgba(0,0,0,.02)}
.card.p16{padding:16px}
.card.p24{padding:24px}

.btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);padding:10px 14px;border-radius:12px;background:#fff}
.btn.primary{background:var(--primary);color:#fff;border:0}
.btn.primary:hover{background:var(--primary-600)}

.btn.ghost{background:#fff}
.btn.small{padding:6px 10px;border-radius:10px;font-size:13px}

.input,.select,textarea{width:100%;border:1px solid var(--border);border-radius:12px;padding:10px 12px;font:inherit}
.label{font-size:13px;color:var(--muted);margin:2px 0 6px 2px}

/* ===========================
   Login
   =========================== */
.login-wrap{min-height:100vh;display:grid;place-items:center;padding:24px}
.login-card{max-width:420px;width:100%}

/* ===========================
   Tabela
   =========================== */
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px 12px;border-bottom:1px solid var(--border);text-align:left}
.table th{font-size:13px;color:var(--muted);font-weight:600;background:#fafafa}

/* ===========================
   Modal
   =========================== */
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.4);padding:20px;z-index:50}
.modal.show{display:grid}
.modal .box{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px;max-width:820px;width:100%}

/* ===========================
   Mapa (Leaflet) + legenda
   =========================== */
/* legenda abaixo do mapa (não fixa no menu) */
.legend{
  position: static;          /* garante que não fique fixa */
  margin-top: 8px;
  display: inline-flex;
  gap: 16px;
  align-items: center;
  padding: 8px 12px;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  width: max-content;        /* só o suficiente para o conteúdo */
}

/* se já existe .legend .dot, mantenha; senão: */
.legend .dot{
  display:inline-block;
  width:10px; height:10px;
  border-radius:50%;
  margin-right:6px;
}

.dot{width:10px;height:10px;border-radius:999px;display:inline-block}
.badge{display:inline-flex;gap:6px;align-items:center;background:#fff;border:1px solid var(--border);border-radius:10px;padding:4px 8px;font-size:12px;box-shadow:0 1px 2px rgba(0,0,0,.05)}
.badge .chip{display:inline-flex;gap:6px;align-items:center}
.badge .chip i{width:10px;height:10px;border-radius:999px;display:inline-block}

#map{height:70vh;border-radius:16px;border:1px solid var(--border);overflow:hidden}

/* ===========================
   Utilitários
   =========================== */
.row{display:grid;gap:14px}
@media (min-width:720px){ .row.cols-2{grid-template-columns:repeat(2,1fr)} }
.muted{color:var(--muted)}
.text-right{text-align:right}
.mt8{margin-top:8px}.mt12{margin-top:12px}.mt16{margin-top:16px}

/* input com ícone (olho) */
.input-with-icon{ position: relative; }
.input-with-icon .input{ padding-right: 42px; } /* espaço pro botão */
.toggle-pass{
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: 0;
  cursor: pointer;
  padding: 6px;
  line-height: 0;
  color: #64748b;
}
.toggle-pass:focus{ outline: 2px solid #93c5fd; outline-offset: 2px; }

/* botão Entrar menor e centralizado */
.btn.login-submit{
  width: 180px;
  display: block;
  margin: 14px auto 0; /* centraliza */
}

/* --- Google Map + painel lateral --- */
.gmap-wrap{ display:grid; grid-template-columns: 1fr 340px; gap:12px; min-height:520px; }
.gmap-canvas{ min-height:520px; border-radius:12px; overflow:hidden; }
.gmap-panel{ background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:12px; overflow:auto; max-height:520px; }

/* badge com contadores sobre o grid */
.grid-badge{ display:flex; gap:4px; align-items:center; background:#fff; border:1px solid #e5e7eb; border-radius:8px; padding:2px 4px; box-shadow:0 1px 3px rgba(0,0,0,.12); font:600 12px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial; }
.grid-badge .b{ display:inline-block; min-width:20px; text-align:center; border-radius:6px; padding:2px 6px; color:#fff; }
.grid-badge .blue{ background:#2563eb; }
.grid-badge .orange{ background:#f97316; }

/* painel lateral */
.panel-head{ font-weight:600; margin-bottom:8px; }
.panel-list{ display:flex; flex-direction:column; gap:8px; }
.panel-item{ display:grid; grid-template-columns:auto 1fr auto; gap:8px; border:1px solid #eee; padding:8px; border-radius:8px; }
.chip{ font-size:12px; padding:2px 6px; border-radius:999px; color:#fff; align-self:start; }
.chip.blue{ background:#2563eb; }
.chip.orange{ background:#f97316; }
.panel-info{ font-size:13px; color:#475569; }
.panel-photos img{ width:64px; height:48px; object-fit:cover; border-radius:6px; margin-left:6px; }
.miniimgs img{ width:64px; height:48px; object-fit:cover; border-radius:6px; margin-right:4px; }

/* Badge fallback quando não houver AdvancedMarkerElement */
.grid-badge-fallback{
  display:inline-flex;
  align-items:center;
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:8px;
  padding:2px 6px;
  color:#111827;
  font-weight:600;
  font-size:12px;
  box-shadow:0 1px 3px rgba(0,0,0,.12);
}
